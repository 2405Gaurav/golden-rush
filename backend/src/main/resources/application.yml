server:
  port: ${PORT:8080}

spring:
  application:
    name: sweetshop-backend
  datasource:
    url: ${SPRING_DATASOURCE_URL:${DATABASE_JDBC_URL:}}
    username: ${SPRING_DATASOURCE_USERNAME:${DATABASE_USERNAME:}}
    password: ${SPRING_DATASOURCE_PASSWORD:${DATABASE_PASSWORD:}}
    hikari:
      maximum-pool-size: 10
  jpa:
    hibernate:
      ddl-auto: validate
    properties:
      hibernate:
        jdbc:
          time_zone: UTC
    open-in-view: false
  flyway:
    enabled: true

app:
  security:
    jwt:
      # Provide a 256-bit (or more) secret as base64. Example generation:
      # - Node:  require('crypto').randomBytes(32).toString('base64')
      # - PowerShell: [Convert]::ToBase64String((1..32 | % {Get-Random -Max 256}))
      secret-base64: ${JWT_SECRET_BASE64:}
      issuer: ${JWT_ISSUER:sweetshop}
      access-token-ttl-seconds: ${JWT_ACCESS_TOKEN_TTL_SECONDS:3600}
  cors:
    allowed-origins: ${CORS_ALLOWED_ORIGINS:http://localhost:3000,http://127.0.0.1:3000}
  bootstrap-admin:
    enabled: ${BOOTSTRAP_ADMIN_ENABLED:true}
    email: ${BOOTSTRAP_ADMIN_EMAIL:admin@sweetshop.local}
    password: ${BOOTSTRAP_ADMIN_PASSWORD:admin123!}
  bootstrap-sweets:
    enabled: ${BOOTSTRAP_SWEETS_ENABLED:true}
    default-quantity: ${BOOTSTRAP_SWEETS_DEFAULT_QUANTITY:100}


